<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ぴらふのおむに</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            font-size: 16px;
            line-height: 1.8;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        .title {
            text-align: left;
            background-color:#FFFF99;
            font-size: 20px;
            border: solid 2px black;
            padding: 10px;
            margin-bottom: 20px;
        }
        h1 {
            color: black;
            margin: 0;
        }
        h2 {
            color: #FFFF77;
            border-left: 6px solid #888;
            padding-left: 10px;
            margin-top: 40px;
        }
        h3 {
            color: #FFFF99;
            border-left: 4px solid #aaa;
            padding-left: 8px;
            margin-top: 30px;
        }
        table {
            margin: 15px 0;
            width: 100%;
            border-collapse: collapse;
        }
        table th, table td {
            border: 1px solid #666;
            padding: 8px;
            text-align: center;
        }
        table caption {
            margin-bottom: 10px;
            font-weight: bold;
            color: white;
        }
        img {
            max-width: 65%;
            height: auto;
            margin: 15px 0;
            display: block;
        }
        ul, ol {
            margin-left: 20px;
        }
    </style>
</head>
<body>
    <div class="title">
        <h1>ぴらふのおむに</h1>
    </div>

    <section>
        <h2>2025/6/8 遊星歯車の速度比計算から考えるサスペンションの伝達ギア設計</h2>
        <p>
        昨今のかわロボでは標準搭載となったサスペンション。そのほとんどがギアトレインがサスペンションのリンクの一部になっており、満足いく性能にするにはは試行錯誤が必要になるだろう。
        </p>
        <p>今回は、サスペンションに組み込まれる伝達ギアの歯数や枚数（奇数or偶数）に着目し、サスペンションの動作にどのような影響を与えるのかを紹介する。</p>
            
        <h3>1. 概要</h3>
        <p>かわろぼに用いられる脚のサスペンションのギア構造は遊星歯車の遊星ギアとキャリアの関係に置き換えることができ、後述の遊星歯車の速度比の計算式を流用して計算できる。</p>

        <p>理想のサスペンションの性能は以下のように定義する
        </p>
        <p><strong>「サスが稼働したときに脚機構が回転しないこと」</strong>
            サスは障害物に追従させるためのものなので、脚の回転と連動してしまうと思うように効かないことになる。<br>
        遊星歯車で言うと、キャリアが動いても遊星歯車が外から見て回っていない（減速比＝1）状態になること。</p>

        <p>先に結論を書くと以下のようになる</p>

     <table>
            <caption></caption>
            <thead>
                <tr>
                  <th style="background-color:midnightblue">サスペンション方式</th>
                 <th style="background-color:midnightblue">奇数枚 or 偶数枚</th>
                  <th style="background-color:midnightblue">歯数の関係</th>
 
              </tr>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>平行リンク</th>
                      <td>奇数枚</td>
                    <td>回転中心の歯数 ＝ 出力側歯車の歯数</td>
                  
                </tr>
                <tr>
                    <th>回転サス </th>
                      <td>奇数枚</td>
                     <td>回転中心の歯数 ＜ 出力側歯車の歯数</td>
                </tr>

            </tbody>
        </table>




        
        <p>※ あくまでも歯数に関する計算であり、実際の走破性にはバックラッシやリンクの長さなどの様々な要因が影響する。</p>

        <h3>2. 遊星歯車機構について</h3>
        <p>遊星歯車機構は、太陽歯車・遊星歯車・内歯車・キャリアから構成され、固定する歯車により3種類ある。</p>

        <p>太陽歯車の歯数＝Za、遊星歯車＝Zb、内歯車＝Zc</p>
        <ol>
            <li><strong>プラネタリ型：</strong> 内歯車を固定</li>
            <li><strong><font color=#FFFF99>ソーラ型：</strong>太陽歯車を固定</font></li>
            <li><strong>スター型：</strong> 遊星キャリアを固定</li>
        </ol>


        <p>今回の計算では太陽歯車を固定するソーラ型の速度比計算方法を使用する。</p>

        <p>固定：太陽歯車<br>入力：内歯車<br>出力：キャリア</p>
        <img src="syoki.png?raw=true" alt="太陽歯車一回転">
        <h3>3. 遊星歯車機構速度比の計算</h3>
        <p><strong>糊付け法</strong>という手法で計算を行う。</p>

        <ol>
            ① キャリアを固定して太陽歯車を1回転させ、その時の他の歯車の回転数を計算する。<br>
            ② 太陽歯車が回転した分を逆回転させる（歯車全部を糊付けして回転）。<br>
            ③ ①＋②の値を入力歯車／出力歯車として速度比を求める。<br>
        </ol>

 参考:https://www.khkgears.co.jp/gear_technology/intermediate_guide/KHK388.html

          <table>
            <caption>ソーラ型の速度比計算</caption>
            <thead>
                <tr>
                  <th>回転数</th>
                  <th style="background-color:green">太陽歯車 Za</th>
                  <th style="background-color:purple">遊星歯車 Zb</th>
                  <th style="background-color:dodgerblue">内歯車 Zc</th>
                  <th style="background-color:darkorange">キャリア</th>
              </tr>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>①</th>
                    <td>1</td>
                    <td>-Za/Zb</td>
                    <td>-Za/Zc</td>
                    <td>0 (固定)</td>
                </tr>
                <tr>
                    <th>②</th>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                </tr>
                <tr>
                    <th>①＋②</th>
                    <td>0 (固定)</td>
                    <td>-Za/Zb-1</td>
                    <td>-Za/Zc-1</td>
                    <td>-1</td>
                </tr>
            </tbody>
        </table>

        内歯車Zc/遊星キャリアの速度比は、(-Za/Zc-1)/-1　となる。

  <h3>4. かわロボの脚に置き換えた計算</h3>
  かわロボの脚の場合は内歯車をヘッケンクランクに固定接続される出力歯車に置き換えて、
  キャリア/出力歯車を計算する。内歯車→平歯車に置き換わることで、Zcの回転方向は遊星歯車の計算と反対になる。<br>
  また、実際のギトレインでは回転中心から出力歯車まで複数枚で構成されているが、<br>
<strong>  遊星歯車の枚数が奇数が偶数で速度比が大きく変わる。</strong><br>

計算方法<br>

  <ol>
      ① キャリアを固定して太陽歯車を1回転させ、他の歯車の回転数を計算する。<br>
      ② 太陽歯車が回転した分を逆回転させる（歯車全部を糊付けして回転）。<br>
      ③ ①＋②の値をキャリア／出力歯車として減速比を求める。<br>
  </ol>

        <h4><font color=#FFFF99>・奇数枚の場合 (歯数が太陽歯車 ≒ 出力歯車)</font></h4>
            <img src="sasukisuu.gif?raw=true" alt="奇数枚ギア構成">

        <table>
            <caption></caption>
            <thead>
                <tr>
                  <th>回転数</th>
                  <th style="background-color:#FF66FF">太陽歯車 Za</th>
                  <th style="background-color:purple">遊星歯車 Zb</th>
                  <th style="background-color:darkorange">出力歯車 Zc</th>
                  <th style="background-color:#FF66FF">キャリア</th>
              </tr>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>①</th>
                    <td>1</td>
                    <td>-Za/Zb</td>
                    <td>Za/Zc</td>
                    <td>0 (固定)</td>
                </tr>
                <tr>
                    <th>②</th>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                </tr>
                <tr>
                    <th>①＋②</th>
                    <td>0</td>
                    <td>-Za/Zb-1</td>
                    <td>Za/Zc-1</td>
                    <td>-1</td>
                </tr>
            </tbody>
        </table>

        <p>⇒減速比＝キャリア(①＋②)／出力歯車Zc(①＋②)＝<strong><font color=#FFFF99>-Zc／(Za-Zc)</font></strong></p>
        Zc＝20、Za＝10 とすると減速比は2。回転数＝1／減速比＝1-Za/Zc。キャリアを1回転させると出力歯車が0.5回転する。<br>
        歯数が太陽歯車＝出力歯車の場合はZa＝Zcとなり、回転数＝1/減速比＝1-Za/Zc＝0。キャリアが動いても出力歯車が動かない。<br>


        <h4><font color=#FFFF99>・偶数枚の場合 (歯数が太陽歯車 ≒ 出力歯車)</font></h4>
        <img src="sasuguusuu.gif?raw=true" alt="偶数枚ギア構成">

        <table>
            <caption></caption>
            <thead>
                <tr>
                  <th>回転数</th>
                  <th style="background-color:#FF66FF">太陽歯車 Za</th>
                  <th style="background-color:purple">遊星歯車 Zb</th>
                    <th style="background-color:purple">遊星歯車 Zb2</th>
                  <th style="background-color:darkorange">出力歯車 Zc</th>
                  <th style="background-color:#FF66FF">キャリア</th>
              </tr>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>①</th>
                    <td>1</td>
                    <td>-Za/Zb1</td>
                    <td>Za/Zb2</td>
                    <td>-Za/Zc</td>
                    <td>0 (固定)</td>
                </tr>
                <tr>
                    <th>②</th>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                </tr>
                <tr>
                    <th>①＋②</th>
                    <td>0</td>
                    <td>-Za/Zb1-1</td>
                    <td>Za/Zb2-1</td>
                    <td>-Za/Zc-1</td>
                    <td>-1</td>
                </tr>
            </tbody>
        </table>

        <p>⇒減速比＝キャリア(①＋②)／Zc(①＋②)＝Zc／(Za＋Zc)。回転数＝1／減速比＝<strong><font color=#FFFF99>1＋Za/Zc。</font></strong></p>
        <p>歯数が太陽歯車＝出力歯車の場合はZa＝Zcとなり、減速比1/2。回転数2。</font></strong></p>


        <h3>5. 平行リンクの計算</h3>
        <p>キャリアに対して出力ギアが動くほど脚が回転するため、キャリアと出力歯車の速度比を0にすることが最適である。偶数枚だと必ず1以上の速度比になることから奇数枚にする必要がある。</p>
        <p>キャリア／ 出力歯車Zc　=　1-Za/Zc=0　となるようにする。<strong><font color=#FFFF99>　Za=Zcが理想。</font></strong><br>
          出力歯車の歯数を回転中心の歯車に近づけるほど回転数が小さくなる。</p>
        <img src="sasu3.gif?raw=true" alt="回転サス 偶数枚1">
        <img src="sasu4.gif?raw=true" alt="回転サス 偶数枚2">

        <h3>6. 回転サスの計算</h3>
        <p>平行リンクとの違いは、脚のヘッケン軸がキャリアと接続されているという点である。この場合、脚のリンクがキャリアとともに動く。キャリアと出力歯車の速度比を同じにする（1に近づける）ことでサスが効きやすくなる。</p>
        <p>出力歯車Zc=-1+Za/Zc=1 となるようにする。<strong><font color=#FFFF99>　Za＜Zcとするほど回転数が1に近づく。</font></strong>偶数枚1+Za/Zcの場合でも同じである。</p>
        <p>奇数枚、偶数枚での違いは脚の回転方向である。</p>

        <p><strong>奇数の場合：</strong>
        1-Za/Zcより必ずキャリアより出力歯車が少なく回る → 脚がキャリアの動きと逆に動く。
        サスが上に上がる → 脚が前進方向に進む。</p>
            <img src="sasu1.gif?raw=true" alt="平行リンクの構成">
        <img src="sasu2.gif?raw=true" alt="回転サス 奇数枚">

        <p><strong>偶数の場合：</strong>
        1+Za/Zcより必ずキャリアより出力歯車が多く回る → 脚がキャリアの動きと同じ方向に動く。
        サスが上がる → 脚が後進方向に進む。</p>
        
        
        計算結果まとめ<br>
        
            
            
            
    </section>
</body>
</html>

